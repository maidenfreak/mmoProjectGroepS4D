<style>
  div { width: 50%;
        float: left;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font: 13px Helvetica, Arial; }
  form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }
  form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
  button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
  #messages { list-style-type: none; margin: 0; padding: 0; }
  #players {list-style-type: none; margin: 0; padding: 0; }
  #messages li { padding: 5px 10px; }
  #messages li:nth-child(odd) { background: #eee; }
</style>
<h1>Lobby</h1>
<div><h1>Hi <%= name %></h1>
      </head>
      <body>
        <ul id="messages"></ul>
        <form action="">
          <input id="m" autocomplete="off" value=""/><button>Send</button>
        </form>
        <script src="/socket.io/socket.io.js"></script>
        <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
        <script>
          var playername='<%= name %>';
            $(function () {
              var socket = io();
              $('form').submit(function(e){
                e.preventDefault(); // prevents page reloading
                socket.emit('chat message', '<%= name %>: '+$('#m').val());
                $('#m').val('');
                return false;
              });
              socket.on('chat message', function(msg){
                $('#messages').append($('<li>').text(msg));
              });
            });
          </script>
      </body>
    </div>
    <div>
        <head>
            <title>Lobby</title>
            <script src="/socket.io/socket.io.js"></script>
        </head>
        <body>
          <h2>There are currently xxx people connected</h2>
            <button id="startButton" type="button" onclick="startTheGame()">Start</button>
            <br>
            <button id="joinButton" type="button" onclick="joinedLobby()">Join</button>
            <br>
            <ul id="players"></ul>
        </body>
        <script src="/socket.io/socket.io.js"></script>
        <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
        <script>
          var playername='<%= name %>';
          var socket = io();

          socket.on('playerLobbies', function(allPlayers){
            for (i = 0; i<allPlayers.length; i++){
                  $('#players').append($('<li>').text(allPlayers[i]));
            }
          });

          function joinedLobby(){
            $(function () {
              //var socket = io();
              socket.emit('playerLobby', '<%= name %>');
              // socket.on('playerLobbies', function(allPlayers){
              //   for (i = 0; i<allPlayers.length; i++){
              //     $('#players').append($('<li>').text(allPlayers[i]));
              //   }
              //   //$('#players').append($('<li>').text(playername));
              // });
            });
          }
          
          function startTheGame(){
            $(function () {
              //var socket = io();
              socket.emit('startGameServer');
            });
          }
        </script>
    </div>
    <script src="../static/game.js"></script>